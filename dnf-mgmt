# shellcheck shell=bash
source ~/dotfiles/utils.bash

function __package_management() {
    local query="${*:2}"
    case "$1" in
        "i")
            sudo dnf install -y $query
        ;;
        "u")
            sudo dnf upgrade --refresh
        ;;
	"?")
	    dnf info $query
	;;
        "s")
            dnf search $query
        ;;
        "r")
            sudo dnf remove $query
        ;;
        *)
            echo -e "Invalid operation. Use:"
            echo -e "i - install <pkg>"
            echo -e "r - remove <pkg>"
            echo -e "s - search <regexp>"
            echo -e "u - update"
    esac
}

alias p="__package_management "
